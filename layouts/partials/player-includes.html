<link rel="stylesheet" href="/audio-player/css/mediaelementplayer.css">
<link rel="stylesheet" href="/audio-player/css/jump-forward.min.css">
<link rel="stylesheet" href="/audio-player/css/skip-back.min.css">
<link rel="stylesheet" href="/audio-player/css/speed.min.css">


{{ if .Site.IsServer -}}
    {{- $cssOpts := (dict "targetPath" "css/player.css" "outputStyle" "compressed" "enableSourceMap" true ) -}}
    {{- $styles := resources.Get "scss/player.scss" | resources.ExecuteAsTemplate "style.player.css" . | toCSS $cssOpts -}}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" media="screen">
{{ else -}}
    {{- $cssOpts := (dict "targetPath" "css/player.css" "outputStyle" "compressed") -}}
    {{- $styles := resources.Get "scss/player.scss" | resources.ExecuteAsTemplate "style.player.css" . | toCSS $cssOpts | minify | fingerprint -}}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}" crossorigin="anonymous" media="screen" />
{{- end }}

{{- $scripts := slice -}}
{{- $scripts = $scripts | append (resources.Get "js/player/mediaelement-and-player.js") -}}
{{- $scripts = $scripts | append (resources.Get "js/player/jump-forward.js") -}}
{{- $scripts = $scripts | append (resources.Get "js/player/skip-back.js") -}}
{{- $scripts = $scripts | append (resources.Get "js/player/speed.js") -}}
{{- $scripts = $scripts | append (resources.Get "js/player/audio-player.js") -}}

{{ if .Site.IsServer -}}
    {{- $js := $scripts | resources.Concat "js/empire-player-script.js" -}}
    <script src="{{ $js.RelPermalink }}"></script>
{{- else -}}
    {{- $js := $scripts | resources.Concat "js/empire-player-script.js" | minify | fingerprint -}}
    <script src="{{ $js.RelPermalink }}" integrity="{{ $js.Data.Integrity }}"></script>
{{- end -}}

